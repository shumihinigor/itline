(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ProductsCategory"],{"025f":function(t,e,s){"use strict";s("571e")},"0529":function(t,e,s){"use strict";s("fd2f")},"1fd2":function(t,e,s){},"571e":function(t,e,s){},"7e26":function(t,e,s){},"86dc":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.loading?s("Preloader"):t._e(),s("h3",{staticClass:"h3 mb-32"},[t._v("Категории")]),s("swiper",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"swiperProduct",staticClass:"swiper product",attrs:{options:t.swiperOptions}},[t._l(t.products,(function(e,i){return s("swiper-slide",{key:e.id},[s("div",{staticClass:"product-swiper__item"},[s("div",{on:{click:function(s){return t.changeCategory(e.alias)}}},[s("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:"/"+e.image,expression:"'/' + product.image",arg:"background-image"}],staticClass:"product-swiper__image"}),s("div",{staticClass:"product-swiper__block mt-auto"},[s("h6",{staticClass:"h6 product-swiper__title text-uppercase font-weight-bold mb-0"},[t._v(t._s(e.name))])])])])])})),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)},a=[],r=s("7212"),o=s("6d3b"),n=s("8343"),c=s("5dc8"),d=s("b078");s("bbe3");o["a"].use([n["a"],c["a"]]);var l={components:{Swiper:r["Swiper"],Pagination:c["a"],SwiperSlide:r["SwiperSlide"],Preloader:d["a"]},props:["products"],data:function(){return{swiperOptions:{slidesPerView:2,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{992:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},375:{slidesPerView:1.25,spaceBetween:20,centeredSlides:!1}}},loading:!0}},computed:{swiper:function(){return this.$refs.swiperProduct.$swiper}},mounted:function(){this.loading=!1,window.innerWidth<=991&&(this.swiper.navigation.$nextEl[0].hidden=!0,this.swiper.navigation.$prevEl[0].hidden=!0)},methods:{changeCategory:function(t){var e=this;this.$route.params.id!==t&&(this.$router.push({name:"ProductsCategoryList",params:{id:t}}),setTimeout((function(){e.$emit("change-category",t)}),0))}}},u=l,p=(s("cd71"),s("2877")),g=Object(p["a"])(u,i,a,!1,null,"498fb11a",null);e["a"]=g.exports},cd71:function(t,e,s){"use strict";s("7e26")},ee58:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-page mb-80"},[t.loading?s("Preloader"):s("div",{staticClass:"container"},[s("div",{staticClass:"row mb-40"},[s("div",{staticClass:"col"},[t.title?s("h1",{staticClass:"h1 mb-0"},[t._v(t._s(t.title))]):s("div",{staticClass:"stub-title"})])]),t.product&&t.product.swiper&&t.product.swiper.length?s("div",{staticClass:"row mb-32"},[s("div",{staticClass:"col"},[s("SwiperProduct",{attrs:{slides:t.product.swiper}})],1)]):t._e(),t.description?s("div",{staticClass:"row mb-40"},[s("div",{staticClass:"col"},[s("p",{staticClass:"p2 mb-0",domProps:{innerHTML:t._s(t.description)}})])]):t._e(),s("div",{staticClass:"row mb-80 main-content"},[s("div",{staticClass:"col-lg-3 col-12"},[s("ProductsFilter",{staticClass:"sidebar",attrs:{products:t.products,categories:t.categories}})],1),s("div",{staticClass:"col-lg-9 col-12"},[t.loadingOnChange?s("Preloader"):s("router-view",{attrs:{products:t.products,product:t.product,categories:t.categories,category:t.category,"categories-products":t.categoriesProducts}})],1)]),t.content?s("div",{staticClass:"row mb-40"},[s("div",{staticClass:"col"},[s("div",{staticClass:"content mb-40",domProps:{innerHTML:t._s(t.content)}})])]):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("SwiperProductCategory",{attrs:{products:t.products}})],1)])])],1)},a=[],r=(s("b0c0"),s("5530")),o=s("b078"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("p",{staticClass:"p2 weight-bold mb-16"},[t._v("Категории:")]),s("ul",{staticClass:"product-filter"},t._l(t.products,(function(e,i){return s("li",{key:i,class:["p2",{active:e.alias==t.$route.params.id}]},[s("span",{on:{click:function(s){return s.stopPropagation(),t.goToProductsCategoryList(e.alias)}}},[t._v(t._s(e.name))]),s("ul",[t.categories&&!t.categories.length?s("Preloader"):t._l(t.categories,(function(i,a){return s("li",{key:a,class:["p2",{active:i.params.alias==t.$route.params.category_id}]},[s("span",{on:{click:function(s){return s.stopPropagation(),t.goToProductsCategoryPage(e.alias,i.params.alias)}}},[t._v(t._s(i.params.title))])])}))],2)])})),0)])},c=[],d={props:["products","categories"],components:{Preloader:o["a"]},data:function(){return{}},methods:{goToProductsCategoryList:function(t){this.$route.params.id!==t&&this.$router.push({name:"ProductsCategoryList",params:{id:t}})},goToProductsCategoryPage:function(t,e){this.$route.params.category_id!==e&&this.$router.push({name:"ProductsCategoryPage",params:{id:t,category_id:e}})}}},l=d,u=(s("0529"),s("2877")),p=Object(u["a"])(l,n,c,!1,null,null,null),g=p.exports,w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("swiper",{directives:[{name:"show",rawName:"v-show",value:t.slides.length,expression:"slides.length"}],ref:"swiperProduct",staticClass:"swiper product",attrs:{options:t.swiperOptions}},[t._l(t.slides,(function(e,i){return s("swiper-slide",{key:e.id},[s("div",{staticClass:"product-swiper__item"},[s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col-lg-5 col-12 position-relative"}),s("div",{staticClass:"col-lg-7 col-12 d-flex flex-column align-items-start product-swiper__item-block"},[s("h1",{staticClass:"h1 mb-16"},[t._v(t._s(e.title))]),s("ul",t._l(e.list,(function(e,i){return s("li",{key:i,staticClass:"p2"},[t._v(" "+t._s(e)+" ")])})),0),e.button?s("a",{staticClass:"mt-auto",attrs:{href:e.button.href}},[s("button",{staticClass:"btn contour product-swiper__item-button",attrs:{type:"button"}},[s("span",{staticClass:"text-uppercase p4 text-white"},[t._v(t._s(e.button.text))])])]):t._e()])])])])})),s("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),s("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)},h=[],v=s("7212"),m=s("6d3b"),b=s("8343"),f=s("5dc8");s("bbe3");m["a"].use([b["a"],f["a"]]);var _={components:{Swiper:v["Swiper"],Pagination:f["a"],SwiperSlide:v["SwiperSlide"],Preloader:o["a"]},props:["slides"],data:function(){return{swiperOptions:{slidesPerView:1,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{992:{slidesPerView:1,spaceBetween:20},375:{slidesPerView:1,spaceBetween:0,centeredSlides:!1}}}}},computed:{swiper:function(){return this.$refs.swiperProduct.$swiper}},created:function(){},mounted:function(){window.innerWidth<=991&&(this.swiper.navigation.$nextEl[0].hidden=!0,this.swiper.navigation.$prevEl[0].hidden=!0)},methods:{}},C=_,P=(s("025f"),Object(u["a"])(C,w,h,!1,null,"6da72a6b",null)),y=P.exports,x=s("86dc"),$=s("2f62"),S=Object($["a"])("products"),k=S.mapMutations,O=S.mapGetters,E=S.mapActions,L={name:"ProductsCategory",props:["id","category_id"],components:{Preloader:o["a"],SwiperProduct:y,SwiperProductCategory:x["a"],ProductsFilter:g},data:function(){return{loading:!0}},computed:Object(r["a"])({},O(["products","product","sidebar","loadingOnChange","categories","categoriesProducts","category","title","content","description"])),watch:{$route:function(t){"ProductsCategoryPage"==t.name?this.changePage({id:this.id,category_id:this.category_id}):this.changeList({id:this.id,category_id:this.category_id})}},created:function(){var t=this;this.category_id?this.getDataPage({id:this.id,category_id:this.category_id}).then((function(){return t.loading=!1})):this.getDataList({id:this.id,category_id:this.category_id}).then((function(){return t.loading=!1}))},methods:Object(r["a"])(Object(r["a"])({},k(["setSidebar"])),E(["getDataPage","getDataList","changePage","changeList","initSidebar"])),beforeDestroy:function(){this.$store.commit("changeBreadcrumbs",[])}},j=L,B=(s("f87f"),Object(u["a"])(j,i,a,!1,null,null,null));e["default"]=B.exports},f87f:function(t,e,s){"use strict";s("1fd2")},fd2f:function(t,e,s){}}]);
//# sourceMappingURL=ProductsCategory.e722b2b6.js.map