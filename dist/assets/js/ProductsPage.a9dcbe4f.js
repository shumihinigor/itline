(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["ProductsPage"],{"0ebe":function(t,e,a){},"218c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"product-page mb-80"},[t.loading?a("Preloader"):a("div",{staticClass:"container"},[a("div",{staticClass:"row mb-32"},[a("div",{staticClass:"col"},[a("h1",{staticClass:"h1 mb-0",domProps:{innerHTML:t._s(t.productPage.title)}})])]),t.productPage.short_description?a("div",{staticClass:"row mb-24"},[a("div",{staticClass:"col"},[a("p",{staticClass:"p4 text-grey-3 mb-0",domProps:{innerHTML:t._s(t.productPage.short_description)}})])]):t._e(),a("div",{staticClass:"row mb-24"},[a("div",{staticClass:"col-lg-4 col-12 mb-32"},[t.productPage.images.length?a("div",[a("swiper",{ref:"swiperImages",staticClass:"swiper images",attrs:{options:t.swiperOptions}},[t._l(t.productPage.images,(function(t,e){return a("swiper-slide",{key:e},[a("img",{attrs:{width:"100%",src:t}})])})),a("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1):a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:t.productPage.image.url,expression:"productPage.image.url",arg:"background-image"}],staticClass:"product-page__image"})]),a("div",{staticClass:"col-lg-4 col-12 mb-32"},[t.productPage.product_options&&t.productPage.product_options.lb_instock?a("div",{staticClass:"product-page__state mb-24"},[a("div",{staticClass:"product-page__state-stock mr-24"},[+t.productPage.product_options.lb_instock.value?a("span",{staticClass:"d-flex align-items-center"},[a("svg",{attrs:{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("circle",{attrs:{cx:"22",cy:"22",r:"21.5",fill:"#fff",stroke:"#E0E0E0"}}),a("path",{attrs:{d:"M10.44 22.553a1.5 1.5 0 012.12 0l9.193 9.192a1.5 1.5 0 11-2.121 2.122l-9.193-9.193a1.5 1.5 0 010-2.121z",fill:"#EF6F2E"}}),a("path",{attrs:{d:"M20.365 33.584a1.5 1.5 0 01-.549-2.05l12-20.784a1.5 1.5 0 112.598 1.5l-12 20.785a1.5 1.5 0 01-2.049.549z",fill:"#EF6F2E"}})]),a("p",{staticClass:"p2 mb-0 ml-16"},[t._v("Товар на складе")])]):a("span",{staticClass:"d-flex align-items-center"},[a("svg",{attrs:{width:"44",height:"44",viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("circle",{attrs:{cx:"22",cy:"22",r:"21.5",fill:"#fff",stroke:"#E0E0E0"}}),a("path",{attrs:{d:"M12.44 31.531a1.5 1.5 0 010-2.121l16.97-16.97a1.5 1.5 0 112.121 2.12l-16.97 16.971a1.5 1.5 0 01-2.122 0z",fill:"#E0E0E0"}}),a("path",{attrs:{d:"M31.533 31.531a1.5 1.5 0 01-2.121 0l-16.97-16.97a1.5 1.5 0 012.12-2.122l16.971 16.97a1.5 1.5 0 010 2.122z",fill:"#E0E0E0"}})]),a("p",{staticClass:"p2 mb-0 ml-16"},[t._v("Товара нет на складе")])])])]):t._e(),t.productPage.text?a("div",{domProps:{innerHTML:t._s(t.productPage.text)}}):t._e(),a("div",{staticClass:"product-page__stock"},[a("h6",{staticClass:"h6 text-orange text-uppercase mb-16"},[t._v("Акция!")]),a("p",{staticClass:"p2 mb-8"},[a("span",{staticClass:"d-block mb-8"},[t._v(" Доставка комплектов табло для транспорта в Москву и Санкт‑Петербург БЕСПЛАТНО! ")])]),a("p",{staticClass:"p4 text-grey-3"},[t._v("Подробную информацию уточняйте у менеджера")])])]),a("div",{staticClass:"col-lg-4 col-12 mb-32"},[a("div",{staticClass:"product-page__stock"},[a("Form",{attrs:{title:"Связаться с менеджером",policy:!1,id:"product-page"}})],1)])]),[Object.keys(t.productPageOptionsTabs).length?a("div",[Object.keys(t.productPageOptionsTabs).length>1?a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("tabs",{attrs:{options:{useUrlFragment:!1}},on:{changed:t.tabChanged}},t._l(t.productPageOptionsTabs,(function(t,e){return a("tab",{key:e,attrs:{id:e,name:e}})})),1)],1)]):t._e(),a("div",{staticClass:"row mb-64"},[a("div",{staticClass:"col"},t._l(t.productPageOptionsTabs,(function(e,s){return a("div",{key:s},[s==t.currentTab?a("div",[a("table",{staticClass:"table table-light table-bordered",staticStyle:{"table-layout":"fixed"}},[a("thead",{staticClass:"table-dark text-center"},[a("tr",[a("th",{attrs:{colspan:"2",scope:"col"}},[t._v(t._s(s))])])]),a("tbody",t._l(e,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"p2"},[t._v(t._s(e.caption))]),a("td",{staticClass:"p2",domProps:{innerHTML:t._s(e.value+e.measure_unit)}})])})),0)])]):t._e()])})),0)])]):t._e()],t.similarProducts.length?a("div",{staticClass:"row mb-64"},[a("div",{staticClass:"col"},[a("h3",{staticClass:"h3 mb-32"},[t._v("Похожие товары")]),a("div",{staticClass:"row"},t._l(t.similarProducts,(function(e,s){return a("div",{key:s,staticClass:"col-lg-3 col-12 mb-24"},[a("router-link",{staticClass:"h-100",attrs:{tag:"div",to:{name:"ProductsPage",params:{id:t.id,category_id:t.category_id,product_id:e.params.alias}}}},[a("div",{staticClass:"h-100",on:{click:function(a){return t.changeProduct(e.params.alias)}}},[a("ProductsItem",{attrs:{title:e.params.title,text:e.params.product_options?e.params.product_options.prod_size:"",price:e.params.price,image:e.params.image.url}})],1)])],1)})),0)])]):t._e(),a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("SwiperProductCategory",{attrs:{products:t.products}})],1)])],2)],1)},i=[],r=(a("99af"),a("4de4"),a("96cf"),a("1da1")),o=a("5530"),c=a("7212"),n=a("6d3b"),d=a("8343"),l=a("5dc8"),p=(a("bbe3"),a("b078")),u=a("86dc"),g=a("73bd"),m=a("8477"),b=a("2f62"),h=a("2b0e"),v=a("7923"),w=a.n(v);n["a"].use([d["a"],l["a"]]);var f=Object(b["a"])("products"),_=f.mapMutations,P=f.mapGetters,C=f.mapActions;h["default"].use(w.a);var y={name:"ProductsPage",props:["id","category_id","product_id"],components:{Preloader:p["a"],SwiperProductCategory:u["a"],ProductsItem:g["a"],Form:m["a"],Swiper:c["Swiper"],Pagination:l["a"],SwiperSlide:c["SwiperSlide"]},data:function(){return{loading:!0,currentTab:"",swiperOptions:{loop:!0,autoHeight:!0,autoUpdate:!0,slidesPerView:1,spaceBetween:20,pagination:{el:".swiper-pagination"}}}},computed:Object(o["a"])(Object(o["a"])({},P(["products","product","categories","categoriesProducts","category","productPage","productPageOptionsTabs"])),{},{similarProducts:function(){var t=this;return this.categoriesProducts.filter((function(e){return e.params.id!==t.productPage.id}))},swiper:function(){return this.$refs.swiperImages.$swiper}}),updated:function(){this.$store.commit("setSeoTitle",this.productPage.seo_title),this.$store.commit("setSeoDescription",this.productPage.short_description)},created:function(){var t=this;this.getDataPage({id:this.id,category_id:this.category_id,product_id:this.product_id}).then((function(){t.initBreadcrumbs(),t.loading=!1}))},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},_([""])),C(["getDataPage","getCategoriesProducts"])),{},{tabChanged:function(t){this.currentTab=t.tab.id},changeProduct:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loading=!0,a.next=3,e.getCategoriesProducts({id:e.id,category_id:e.category_id,product_id:t});case 3:e.initBreadcrumbs(),e.loading=!1;case 5:case"end":return a.stop()}}),a)})))()},initBreadcrumbs:function(){var t=[{path:"/",name:"Home",meta:{title:"Главная"}},{path:"/products",name:"Products",meta:{title:"Продукция"}},{path:"/products/".concat(this.id),name:"ProductsCategoryList",meta:{title:this.product.title}},{path:"/products/".concat(this.id,"/").concat(this.category_id),name:"ProductsCategoryPage",meta:{title:this.category.title}},{path:"/products/".concat(this.id,"/").concat(this.category_id,"/").concat(this.product_id),name:"ProductsPage",meta:{title:this.productPage.title}}];this.$store.commit("changeBreadcrumbs",t)}}),destroyed:function(){this.$store.commit("changeBreadcrumbs",[])}},x=y,k=(a("5bb9"),a("2877")),E=Object(k["a"])(x,s,i,!1,null,null,null);e["default"]=E.exports},"5bb9":function(t,e,a){"use strict";a("0ebe")},"7e26":function(t,e,a){},"86dc":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.loading?a("Preloader"):t._e(),a("h3",{staticClass:"h3 mb-32"},[t._v("Категории")]),a("swiper",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],ref:"swiperProduct",staticClass:"swiper product",attrs:{options:t.swiperOptions}},[t._l(t.products,(function(e,s){return a("swiper-slide",{key:e.id},[a("div",{staticClass:"product-swiper__item"},[a("div",{on:{click:function(a){return t.changeCategory(e.alias)}}},[a("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:"/"+e.image,expression:"'/' + product.image",arg:"background-image"}],staticClass:"product-swiper__image"}),a("div",{staticClass:"product-swiper__block mt-auto"},[a("h6",{staticClass:"h6 product-swiper__title text-uppercase font-weight-bold mb-0"},[t._v(t._s(e.name))])])])])])})),a("div",{staticClass:"swiper-button-prev",attrs:{slot:"button-prev"},slot:"button-prev"}),a("div",{staticClass:"swiper-button-next",attrs:{slot:"button-next"},slot:"button-next"})],2)],1)},i=[],r=a("7212"),o=a("6d3b"),c=a("8343"),n=a("5dc8"),d=a("b078");a("bbe3");o["a"].use([c["a"],n["a"]]);var l={components:{Swiper:r["Swiper"],Pagination:n["a"],SwiperSlide:r["SwiperSlide"],Preloader:d["a"]},props:["products"],data:function(){return{swiperOptions:{slidesPerView:2,spaceBetween:20,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{992:{slidesPerView:4,spaceBetween:20},768:{slidesPerView:2,spaceBetween:20},375:{slidesPerView:1.25,spaceBetween:20,centeredSlides:!1}}},loading:!0}},computed:{swiper:function(){return this.$refs.swiperProduct.$swiper}},mounted:function(){this.loading=!1,window.innerWidth<=991&&(this.swiper.navigation.$nextEl[0].hidden=!0,this.swiper.navigation.$prevEl[0].hidden=!0)},methods:{changeCategory:function(t){var e=this;this.$route.params.id!==t&&(this.$router.push({name:"ProductsCategoryList",params:{id:t}}),setTimeout((function(){e.$emit("change-category",t)}),0))}}},p=l,u=(a("cd71"),a("2877")),g=Object(u["a"])(p,s,i,!1,null,"498fb11a",null);e["a"]=g.exports},"99af":function(t,e,a){"use strict";var s=a("23e7"),i=a("d039"),r=a("e8b5"),o=a("861d"),c=a("7b0b"),n=a("50c4"),d=a("8418"),l=a("65f0"),p=a("1dde"),u=a("b622"),g=a("2d00"),m=u("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",v=g>=51||!i((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),w=p("concat"),f=function(t){if(!o(t))return!1;var e=t[m];return void 0!==e?!!e:r(t)},_=!v||!w;s({target:"Array",proto:!0,forced:_},{concat:function(t){var e,a,s,i,r,o=c(this),p=l(o,0),u=0;for(e=-1,s=arguments.length;e<s;e++)if(r=-1===e?o:arguments[e],f(r)){if(i=n(r.length),u+i>b)throw TypeError(h);for(a=0;a<i;a++,u++)a in r&&d(p,u,r[a])}else{if(u>=b)throw TypeError(h);d(p,u++,r)}return p.length=u,p}})},cd71:function(t,e,a){"use strict";a("7e26")}}]);
//# sourceMappingURL=ProductsPage.a9dcbe4f.js.map